<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>进入支付宝支付</title>
</head>
<body>
	<form style="display:none" id="alipayForm" method="post"
		action="#">
		<input type="hidden" name="service" value="create_partner_trade_by_buyer"></input> 
		<input type="hidden" id="partner" name="partner" value=""></input>
		<input type="hidden" name="seller_email" value="lian.hu.chinese@gmail.com"></input>
		<input type="hidden" name="_input_charset" value="utf-8"></input>
		<input type="hidden" name="payment_type" value="1"></input>
		<input type="hidden" name="notify_url"	value="http://www.hwsjcz.com/payment/alipay"></input>
		<input type="hidden" name="return_url" value="http://www.hwsjcz.com/view/alipayReturn.html"></input>
		<input type="hidden" id="out_trade_no" name="out_trade_no" value=""></input>
		<input type="hidden" id="subject" name="subject" value="海外手机充值订单 您的手机号是:"></input>
		<input type="hidden" id="price" name="price" value=""></input>
		<input type="hidden" name="quantity" value="1"></input>
		<input type="hidden" name="logistics_fee" value="0"></input>
		<input type="hidden" name="logistics_type" value="EXPRESS"></input>
		<input type="hidden" name="logistics_payment" value="SELLER_PAY"></input>
		<input type="hidden" id="receive_name" name="receive_name" value=""></input>
		<input type="hidden" id="receive_address" name="receive_address" value=""></input>
		<input type="hidden" id="receive_mobile" name="receive_mobile" value=""></input>
		<input type="hidden" name="receive_zip" value="000000"></input>
		<input type="hidden" name="sign_type" value="MD5"></input>
		<input type="hidden" id="sign" name="sign" value=""></input>
		<button id="alipayCheckOut" class="btn btn-default" type="submit">Alipay支付</button>
	</form>
	<script>
		function getUrlVars() {
		    var vars = {};
		    var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi,    
		    function(m,key,value) {
		      vars[key] = value;
		    });
		    return vars;
		  }
		var params =getUrlVars();
		document.getElementById('partner').value=params['merchant'];
		document.getElementById('out_trade_no').value=params['orderId'];
		document.getElementById('price').value=params['amount'];
		document.getElementById('sign').value=params['sign'];
		document.getElementById('receive_name').value=params['mobileNumber'];
		document.getElementById('receive_address').value=params['mobileNumber'];
		document.getElementById('receive_mobile').value=params['mobileNumber'];
		document.getElementById('subject').value=document.getElementById('subject').value+params['mobileNumber'];
		var form = document.getElementById("alipayForm");
		form.action=params['apiAddress'];
		form.submit();
	</script>
</body>
</html>